* { box-sizing: border-box; }
html, body, #app { height:100%; }
html { background: linear-gradient(140deg,#1d0730 0%,#3a0f57 30%,#6d2fa5 65%,#b656e2 100%) fixed; min-height:100%; }
body { margin:0; color: var(--text,#eee); background: transparent; position:relative; }
body::before { content:""; position:fixed; inset:0; pointer-events:none; background: radial-gradient(circle at 18% 12%, rgba(255,255,255,0.09), transparent 55%), radial-gradient(circle at 82% 78%, rgba(255,255,255,0.07), transparent 60%); mix-blend-mode: overlay; }

.layout {
	display: grid; grid-template-columns: 280px 1fr; min-height: 100%;
}
.sidebar { padding: 16px; background: rgba(15,10,25,.35); backdrop-filter: blur(12px); }
.sidebar__logo { font-weight: 700; margin-bottom: 12px; }
.nav__link {
  display:block; padding:10px 12px; border-radius:12px; color:#cfcbe8; text-decoration:none;
}
.nav__link.active, .nav__link:hover {
  background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.05));
  color:#fff;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.12);
}

.main { padding: 16px; }
.topbar { display:flex; gap:18px; align-items:center; justify-content:flex-end; margin-bottom:16px; padding:10px 18px; background: rgba(255,255,255,0.04); border:1px solid rgba(255,255,255,0.08); border-radius:14px; }
.topbar__search { flex:1; max-width:640px; padding:11px 16px; border-radius:16px; border:none; background: rgba(255,255,255,.08); color:#fff; margin-left:16px; }

.card { background: rgba(255,255,255,.08); backdrop-filter: blur(12px); padding:16px; border-radius:16px; box-shadow: 0 10px 30px rgba(0,0,0,.25); }
.grid--dash { display:grid; grid-template-columns: 1fr 1fr 1fr; gap:16px; }
.card--hero { grid-column: span 3; display:flex; align-items:center; justify-content:space-between; }
.card--hero a.button { text-decoration:none; display:inline-block; }

.button { padding:10px 14px; border-radius:12px; border:none; color:#fff; background:#7b2cbf; cursor:pointer; }
.button, .button:link, .button:visited { text-decoration:none; }
.button--ghost { background: transparent; border:1px solid rgba(255,255,255,.2); }

.table { width:100%; border-collapse: collapse; }
.table th, .table td { padding:10px; border-bottom:1px solid rgba(255,255,255,.1); }
.badge { padding:2px 8px; border-radius:999px; background: rgba(255,255,255,.15); }
.badge--ok { background:#1f9d55; }
.badge--warn { background:#b7791f; }

.ring {
	width: 96px; height: 96px; border-radius: 50%;
	background: conic-gradient(#7b2cbf 0% 70%, rgba(255,255,255,.12) 70% 100%);
	display:grid; place-items:center; font-weight:700;
}
@media (max-width: 1024px) {
	.layout { grid-template-columns: 80px 1fr; }
	.grid--dash { grid-template-columns: 1fr; }
	.card--hero { grid-column: span 1; }
}
/* Dark-First Designsystem */
:root {
	--bg: #1a1027;
	--bg-2: #24143a;
	--card: rgba(40, 20, 60, 0.7);
	--text: #f3eaff;
	--muted: #bbaed6;
	--brand: #a259e6;
	--brand-2: #e05fc4;
	--accent: #5ad1e6;
	--success: #4be6a2;
	--warning: #ffe066;
	--danger: #ff5c8a;
	--radius: 1.1rem;
	--shadow: 0 4px 32px 0 rgba(60,0,80,0.18);
}

[data-theme="light"] {
	--bg: #f7f5fa;
	--bg-2: #ede7f6;
	--card: rgba(255,255,255,0.7);
	--text: #2a183a;
	--muted: #7a6a8a;
	--brand: #a259e6;
	--brand-2: #e05fc4;
	--accent: #2bb6d6;
	--success: #1bb87a;
	--warning: #e6b800;
	--danger: #e03a5c;
}

html, body { font-family:'Inter','Segoe UI',Arial,sans-serif; color:var(--text); }

/* Breadcrumbs */
.breadcrumbs { font-size:.95rem; font-weight:500; letter-spacing:.3px; }
.breadcrumbs a { color: var(--accent); text-decoration:none; position:relative; }
.breadcrumbs a:hover { color:#fff; }
.breadcrumbs a + a:before { content:'>'; color: var(--muted); margin:0 .35em 0 .45em; }
.breadcrumbs { color: var(--muted); }

.layout { display:grid; grid-template-columns: 280px 1fr; min-height:100vh; }

.sidebar {
	background: var(--bg-2);
	position: sticky;
	top: 0;
	height: 100vh;
	box-shadow: var(--shadow);
	z-index: 10;
	display: flex;
	flex-direction: column;
	gap: 2rem;
	padding: 2rem 1.5rem 1.5rem 1.5rem;
}
.sidebar nav {
	display: flex;
	flex-direction: column;
	gap: 1rem;
}
.sidebar a {
	color: var(--muted);
	text-decoration: none;
	font-weight: 500;
	border-radius: var(--radius);
	padding: 0.6em 1em;
	transition: background 0.2s, color 0.2s;
}
.sidebar a.active, .sidebar a[aria-current="page"] {
	background: var(--brand);
	color: #fff;
}

.topbar {
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: 1.2rem 2rem 1.2rem 0;
	background: var(--bg-2);
	box-shadow: var(--shadow);
	position: sticky;
	top: 0;
	z-index: 9;
}
.hamburger { display:none; background:none; border:none; color:var(--brand); font-size:1.4rem; cursor:pointer; padding:.4rem .6rem; border-radius:.6rem; }
.hamburger:hover { background:rgba(255,255,255,0.08); }
.sidebar__close { display:none; }
.sidebar--open { transform:translateX(0); }
@media (max-width: 900px) {
	.layout { grid-template-columns: 1fr; }
	.sidebar { position:fixed; left:0; top:0; transform:translateX(-100%); transition:transform .25s ease; height:100%; width:240px; }
	.sidebar.sidebar--open { transform:translateX(0); }
	.topbar { padding: .8rem 1rem; gap:.75rem; }
	.hamburger { display:inline-block; }
	.topbar__search { max-width:100%; margin-left:0; }
	.sidebar__close { display:inline-block; position:absolute; top:8px; right:10px; background:none; color:var(--brand); border:none; padding:.25rem .4rem; cursor:pointer; font-size:1.4rem; line-height:1; }
	.sidebar__close:hover { color:#fff; }
}
.topbar .search {
	flex: 1;
	margin-right: 2rem;
}
.topbar input[type="search"] {
	width: 100%;
	padding: 0.7em 1em;
	border-radius: var(--radius);
	border: none;
	background: var(--card);
	color: var(--text);
	font-size: 1rem;
}
.topbar .avatar {
	width: 2.5rem;
	height: 2.5rem;
	border-radius: 50%;
	background: var(--brand-2);
	display: flex;
	align-items: center;
	justify-content: center;
	color: #fff;
	font-weight: bold;
	font-size: 1.2rem;
}
.topbar .theme-toggle {
	margin-left: 1.5rem;
	background: none;
	border: none;
	color: var(--brand);
	font-size: 1.5rem;
	cursor: pointer;
}

.card {
	background: var(--card);
	border-radius: var(--radius);
	box-shadow: var(--shadow);
	padding: 2rem;
	backdrop-filter: blur(12px);
	-webkit-backdrop-filter: blur(12px);
	border: 1px solid rgba(255,255,255,0.08);
}

.button {
	display: inline-block;
	padding: 0.7em 1.4em;
	border-radius: var(--radius);
	border: none;
	font-weight: 600;
	font-size: 1rem;
	cursor: pointer;
	background: var(--brand);
	color: #fff;
	box-shadow: 0 2px 8px 0 rgba(80,0,120,0.08);
	transition: background 0.2s, color 0.2s;
}
.button.ghost {
	background: none;
	color: var(--brand);
	border: 1.5px solid var(--brand);
}
.button.small { padding:0.45em 0.9em; font-size:.85rem; }
.button:active {
	background: var(--brand-2);
}

/* Flashcards Toolbar */
.flashcards-toolbar { display:flex; flex-wrap:wrap; gap:.9rem; align-items:center; margin-bottom:1.1rem; }
.flashcards-toolbar { position:sticky; top:0; z-index:5; background: linear-gradient(135deg, rgba(42,16,71,.92), rgba(162,89,230,.85)); padding:.75rem 1rem; border-radius: var(--radius); backdrop-filter: blur(6px); }
.flashcards-toolbar .field-group { display:flex; gap:.55rem; align-items:center; background: rgba(255,255,255,0.06); padding:.55rem .75rem; border-radius: var(--radius); }
.flashcards-toolbar .field-group .field-inline { display:flex; gap:.5rem; align-items:center; }
.flashcards-toolbar .field-group select { margin:0; }
.flashcards-toolbar .field-group button { margin-top:0; }
.flashcards-toolbar label { font-size:.75rem; font-weight:600; text-transform:uppercase; letter-spacing:.5px; color: var(--muted); }
.flashcards-toolbar select { background: var(--bg-2); color: var(--text); border:1px solid rgba(255,255,255,0.15); padding:.45rem .65rem; border-radius: .65rem; font-size:.85rem; outline:none; }
.flashcards-toolbar select:focus { border-color: var(--brand); box-shadow: 0 0 0 2px rgba(162,89,230,.35); }
.flashcards-toolbar .button.small { font-size:.78rem; font-weight:600; }
.flashcards-toolbar .button.small.ghost { background:none; border:1px solid var(--brand); color: var(--brand); }
.flashcards-toolbar .button.small.ghost:hover { background: var(--brand); color:#fff; }
.flashcards-toolbar .mode-btn { background: linear-gradient(120deg,var(--brand) 0%, var(--brand-2) 100%); }
.flashcards-toolbar .mode-btn.active { box-shadow: 0 0 0 2px rgba(255,255,255,0.15), 0 4px 18px -4px rgba(162,89,230,.55); }
.flashcards-mount { min-height:140px; }
.fc-group { margin-bottom:.85rem; background: rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.08); border-radius: .9rem; padding:.6rem .9rem; }
.fc-group[open] { background: rgba(255,255,255,0.08); }
.fc-group summary { cursor:pointer; list-style:none; font-weight:600; color: var(--brand); }
.fc-group summary::-webkit-details-marker { display:none; }
.fc-group .fc-list { margin:.5rem 0 0 0; padding:0 0 0 .2rem; list-style:none; display:grid; gap:.55rem; }
.fc-group .fc-list li { background: rgba(0,0,0,0.18); padding:.55rem .7rem; border-radius:.65rem; line-height:1.25; font-size:.85rem; }
.fc-group .fc-list li .q { font-weight:600; color: var(--text); }
.fc-group .fc-list li .a { display:block; margin-top:.15rem; font-weight:400; }
.lf-active-bar { display:flex; flex-wrap:wrap; gap:1rem; align-items:center; justify-content:space-between; background: rgba(255,255,255,0.05); padding:.65rem .9rem; border:1px solid rgba(255,255,255,0.08); border-radius: .85rem; margin-bottom:1rem; position:sticky; top:0.5rem; backdrop-filter: blur(8px); }
.lf-active-name { font-weight:600; color: var(--brand); display:flex; align-items:center; gap:.6rem; }
.lf-active-name::before { content:'Aktiv:'; font-size:.75rem; text-transform:uppercase; letter-spacing:.5px; color: var(--muted); }
.lf-search-wrap { flex:1; min-width:200px; display:flex; justify-content:center; padding:0 .4rem; }
.lf-search-wrap input[type=search] { background: var(--bg-2); border:1px solid rgba(255,255,255,0.15); color:var(--text); padding:.6rem .9rem; border-radius:1rem; font-size:.85rem; min-width:260px; max-width:520px; width:100%; box-shadow: 0 2px 6px rgba(0,0,0,.25) inset; }
.lf-search-wrap input[type=search]:focus { outline:none; border-color: var(--brand); box-shadow: 0 0 0 2px rgba(162,89,230,.35); }
.lf-badge { display:inline-block; background: linear-gradient(120deg,var(--brand),var(--brand-2)); color:#fff; padding:.25rem .55rem; border-radius:.6rem; font-size:.65rem; font-weight:700; letter-spacing:.5px; text-transform:uppercase; box-shadow:0 2px 6px rgba(0,0,0,.3); }

.badge {
	display: inline-block;
	background: var(--accent);
	color: #fff;
	border-radius: 999px;
	padding: 0.2em 0.8em;
	font-size: 0.92em;
	font-weight: 500;
	margin-left: 0.5em;
}

.tabs {
	display: flex;
	gap: 1.2rem;
	border-bottom: 2px solid var(--bg-2);
	margin-bottom: 1.5rem;
}
.tabs button {
	background: none;
	border: none;
	color: var(--muted);
	font-size: 1.1rem;
	padding: 0.7em 1.2em;
	border-radius: var(--radius) var(--radius) 0 0;
	cursor: pointer;
	transition: color 0.2s, background 0.2s;
}
.tabs button.active {
	background: var(--card);
	color: var(--brand);
	font-weight: 600;
}

.table {
	width: 100%;
	border-collapse: collapse;
	background: var(--card);
	border-radius: var(--radius);
	overflow: hidden;
	box-shadow: var(--shadow);
}
.table th, .table td {
	padding: 1em 1.2em;
	text-align: left;
}
.table th {
	background: var(--bg-2);
	color: var(--brand);
	font-weight: 700;
}
.table tr:nth-child(even) {
	background: rgba(255,255,255,0.03);
}
.table tr:hover {
	background: var(--bg-2);
}

.progress {
	width: 100%;
	height: 1.1rem;
	background: var(--bg-2);
	border-radius: var(--radius);
	overflow: hidden;
	margin: 0.5em 0;
}
.progress-bar {
	height: 100%;
	background: var(--brand);
	border-radius: var(--radius);
	transition: width 0.3s;
}

.ring {
	width: 80px;
	height: 80px;
	border-radius: 50%;
	background: conic-gradient(var(--brand) 0% 60%, var(--bg-2) 60% 100%);
	display: flex;
	align-items: center;
	justify-content: center;
	color: var(--text);
	font-weight: bold;
	font-size: 1.2rem;
	box-shadow: var(--shadow);
}

/* Quiz toolbar base (desktop / wider) */
.quiz-toolbar { display:flex; gap:1rem; flex-wrap:wrap; align-items:stretch; }
.quiz-toolbar .lf-group { display:flex; flex-wrap:wrap; row-gap:.5rem; column-gap:.6rem; align-items:center; background:rgba(255,255,255,.06); padding:.65rem .85rem; border-radius:.85rem; }
.quiz-toolbar .lf-label { font-size:.55rem; font-weight:600; letter-spacing:.7px; text-transform:uppercase; opacity:.8; }
.quiz-toolbar .lf-select { background:#24143a;color:#fff;border:1px solid rgba(255,255,255,.2);padding:.5rem .7rem;border-radius:.55rem;min-width:260px;font-size:.9rem; }
.quiz-toolbar .lf-num { width:80px;background:#24143a;color:#fff;border:1px solid rgba(255,255,255,.2);padding:.4rem .5rem;border-radius:.55rem; }
.quiz-toolbar .lf-actions { display:flex; gap:.5rem; align-items:center; }
.quiz-toolbar .quiz-modes { display:flex; gap:.6rem; align-items:center; }
.quiz-toolbar .quiz-modes .button.small { text-align:center; text-decoration:none; }

@media (max-width: 1024px) {
	.layout {
		grid-template-columns: 64px 1fr;
	}
	.sidebar {
		padding: 1rem 0.5rem;
		min-width: 64px;
		width: 64px;
		overflow-x: hidden;
		align-items: center;
	}
	.sidebar nav {
		gap: 0.5rem;
	}
	.sidebar a {
		padding: 0.6em 0.6em;
		font-size: 0.95em;
		text-align: center;
	}
}

@media (max-width: 700px) {
	.layout {
		display: block;
	}
	.sidebar {
		position: fixed;
		left: 0; top: 0; bottom: 0;
		width: 220px;
		transform: translateX(-100%);
		transition: transform 0.3s;
		z-index: 100;
	}
	.sidebar.open {
		transform: translateX(0);
	}
	.topbar {
		padding-left: 0.5rem;
	}
}

/* Mobile tuning for flashcards toolbar to avoid horizontal overflow */
@media (max-width: 640px) {
	.flashcards-toolbar {
		flex-direction: column;
		align-items: stretch;
		gap: .75rem;
	}
	.flashcards-toolbar .field-group {
		flex-direction: column;
		align-items: stretch;
		gap: .55rem;
	}
	.flashcards-toolbar .field-group .field-inline {
		flex-wrap: wrap;
		width: 100%;
	}
	.flashcards-toolbar .field-group select {
		width: 100%;
	}
	.flashcards-toolbar .button.small {
		flex: 1 1 auto;
	}
	.flashcards-toolbar .mode-btn {
		width: 100%;
	}

	/* Quiz toolbar */
	.quiz-toolbar { display:flex; flex-direction:column; gap:.9rem; background: linear-gradient(135deg, rgba(42,16,71,.92), rgba(162,89,230,.85)); padding:.75rem 1rem; border-radius: var(--radius); backdrop-filter: blur(6px); }
	.quiz-toolbar .lf-group { display:flex; flex-direction:column; gap:.55rem; background: rgba(255,255,255,0.06); padding:.6rem .75rem; border-radius: var(--radius); }
	.quiz-toolbar .lf-label { font-size:.65rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; color: var(--muted); }
	.quiz-toolbar .lf-select, .quiz-toolbar .lf-num { width:100%; background: var(--bg-2); color: var(--text); border:1px solid rgba(255,255,255,0.15); padding:.5rem .65rem; border-radius:.6rem; font-size:.85rem; }
	.quiz-toolbar .lf-actions { display:flex; flex-wrap:wrap; gap:.5rem; }
	.quiz-toolbar .lf-actions .button.small { flex:1 1 auto; }
	.quiz-toolbar .quiz-modes { display:flex; flex-wrap:wrap; gap:.5rem; }
	.quiz-toolbar .quiz-modes .button.small { flex:1 1 auto; }
}

@media (max-width: 420px) {
	.flashcards-toolbar label { font-size: .65rem; }
	.flashcards-toolbar select { font-size: .8rem; }
	.flashcards-toolbar .button.small { font-size: .7rem; padding: .4rem .55rem; }
}
